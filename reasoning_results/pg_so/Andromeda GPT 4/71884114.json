{"res": "Based on the scenario described and the parameters you've already adjusted in your `postgresql.conf`, it seems that the restoration process is unusually slow, and the changes made have not significantly improved the performance. Given the details provided, here are some parameters that could potentially help in improving the restoration speed:\n\n1. **`full_page_writes`** - You have this set to off, which is generally recommended during bulk loading operations like a restore, as it reduces the amount of data written to the WAL. This should typically help, but since you're not seeing improvements, other factors might be limiting performance.\n\n2. **`maintenance_work_mem`** - You've set this to 2GB, which is generally good for maintenance operations like restoring a database. This parameter allows PostgreSQL to use more memory for maintenance operations, which can speed up processes like creating indexes and adding foreign keys.\n\n3. **`wal_buffers`** - This is set to -1, which lets PostgreSQL determine the size automatically. However, during a restore, increasing this might help, especially if the WAL is a bottleneck. You might try setting this explicitly to a higher value, like 16MB.\n\n4. **`checkpoint_timeout`** and **`checkpoint_completion_target`** - These parameters are not mentioned in your current settings but are crucial during bulk load operations. Increasing `checkpoint_timeout` allows more time between checkpoints, which can reduce the I/O load. The `checkpoint_completion_target` can be set to a higher value to spread out the checkpoint I/O over a longer period, which can also help in reducing the I/O spikes.\n\n5. **`wal_writer_flush_after`** - Increasing this value can reduce the frequency of WAL flushes, which might help in reducing the I/O load during the restore process. Since the default is 1MB, you might consider increasing it to see if it impacts performance positively.\n\nGiven these considerations, the recommended parameters to adjust or focus on would be:\n\n```plaintext\n['full_page_writes', 'maintenance_work_mem', 'wal_buffers', 'checkpoint_timeout', 'checkpoint_completion_target', 'wal_writer_flush_after']\n```\n\nThese adjustments aim to optimize the use of system resources and reduce the I/O bottleneck that seems to be present during your database restoration process."}